(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4,7],{35:function(e,t,n){"use strict";t.a="data:image/png;base64,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"},38:function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return Object(r.jsx)("p",{className:"error-title",children:"404 Page not found"})}},66:function(e,t,n){"use strict";var r=n(67),a=n(10);function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"===typeof e?i(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=a({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(a),o,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=i(n):e[t]=n,e}),Object.create(null))):r},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}(t=a({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var a=e[r];if(void 0===a)return"";if(null===a)return o(r,t);if(Array.isArray(a)){var i=[];return a.slice().forEach((function(e){void 0!==e&&i.push(n(r,e,i.length))})),i.join("&")}return o(r,t)+"="+o(a,t)})).filter((function(e){return e.length>0})).join("&"):""}},67:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},70:function(e,t,n){"use strict";n.r(t);var r=n(32),a=n(33),o=n(37),i=n(36),c=n(8),s=n(0),u=n(66),h=n.n(u),f=n(34),l=n.n(f),p=function(e,t){return l.a.defaults.baseURL="https://api.themoviedb.org/3/search/movie?",l.a.defaults.params={api_key:"50b81e1c6c3b9e5f74d2015b742ff0b0"},l.a.get("",{params:{query:e,page:t}}).then((function(e){return e.data.results}))},j=n(38),b=n(35),d=n(1),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={query:h.a.parse(e.props.location.state).query,movies:[],page:1,error:!1},e.setQuery=function(t){e.setState({query:t.target.value})},e.getMovies=function(t){var n=e.state,r=n.query,a=n.page,o=n.baseURL;t.preventDefault(),p(r,a,o).then((function(t){return t.length>1?e.setState({movies:t}):e.setState({error:!0})})).catch((function(e){console.log("err",e)})).finally(e.setState({movies:[]}))},e.handleRenderNextPage=function(){e.setState((function(e){return{page:e.page+1}}))},e.handleRenderPrevPage=function(){e.state.page>1&&e.setState((function(e){return{page:e.page-1}}))},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.query,r=t.page,a=t.baseURL;this.setState({page:1,error:!1}),(null===n||void 0===n?void 0:n.length)>1&&p(n,r,a).then((function(t){return t.length>1?e.setState({movies:t}):e.setState({error:!0})})).catch((function(){return e.setState({error:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.page!==this.state.page){var r=this.state,a=r.page,o=r.query,i=r.baseURL;p(o,a,i).then((function(e){return n.setState({movies:e})}))}t.query!==this.state.query&&this.setState({error:!1}),t.movies!==this.state.movies&&this.state.movies.length>1&&this.props.history.push({search:"query=".concat(this.state.query)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.movies,r=t.page,a=t.error,o=t.query;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{className:"Searchbar",children:[Object(d.jsx)("input",{type:"imput",onChange:this.setQuery,className:"SearchForm-input",placeholder:"Search..."}),Object(d.jsx)("button",{onClick:this.getMovies,className:"SearchForm-button",children:"Search"})]}),n.length>1&&Object(d.jsx)("ul",{className:"ImageGallery",children:n.map((function(t){var n=t.title,r=t.id,a=t.poster_path;return Object(d.jsx)("li",{children:Object(d.jsxs)(c.b,{to:{pathname:"".concat(e.props.match.url,"/").concat(r),state:"query=".concat(o),from:"".concat(e.props.location.pathname)},children:[Object(d.jsx)("img",{src:a?"https://image.tmdb.org/t/p/w500/".concat(a):b.a,alt:"",className:"ImageGalleryItem-image"}),Object(d.jsx)("p",{children:n})]})},r)}))}),a&&Object(d.jsx)(j.default,{}),Object(d.jsxs)("div",{className:"Navigation-button-wrapper",children:[n.length>1&&Object(d.jsx)("button",{onClick:this.handleRenderNextPage,className:"Navigation-button",children:"Next page"}),r>1&&Object(d.jsx)("button",{onClick:this.handleRenderPrevPage,className:"Navigation-button",children:"Prev page"})]})]})}}]),n}(s.Component);t.default=m}}]);
//# sourceMappingURL=movie-page.a808b5aa.chunk.js.map