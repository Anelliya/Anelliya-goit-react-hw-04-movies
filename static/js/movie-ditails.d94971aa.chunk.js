(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[1,5],{66:function(t,e,a){"use strict";a.r(e);var n=a(1);e.default=function(){return Object(n.jsx)("p",{className:"error-title",children:"404 Page not found"})}},69:function(t,e,a){"use strict";a.r(e);var n=a(31),c=a(17),i=a(18),r=a(20),s=a(19),o=a(0),l=a(2),h=a(8),p=a(11),u=a.n(p);u.a.defaults.params={api_key:"50b81e1c6c3b9e5f74d2015b742ff0b0"};var v=function(t){return u.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?")).then((function(t){return t.data}))},j=a(66),d=a(14),m=a(21);u.a.defaults.params={api_key:"50b81e1c6c3b9e5f74d2015b742ff0b0"};var b=function(t){return u.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits"))},f=a(1),O=function(t){Object(r.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={cast:[]},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.movieId;b(e).then((function(e){return t.setState({cast:e.data.cast})})).catch((function(t){return console.log("err from cast:",t)}))}},{key:"render",value:function(){var t=this.state.cast;return t?Object(f.jsx)("ul",{children:t.map((function(t){var e=t.name,a=t.profile_path,n=t.character,c=t.job,i=t.credit_id;return Object(f.jsxs)("li",{children:[Object(f.jsx)("img",{src:a?"https://image.tmdb.org/t/p/w500/".concat(a):m.a,alt:c,width:"100px"}),Object(f.jsx)("h2",{children:e}),Object(f.jsxs)("p",{children:["Character: ",n?"".concat(n):"unknown"]})]},i)}))}):null}}]),a}(o.Component);u.a.defaults.params={api_key:"50b81e1c6c3b9e5f74d2015b742ff0b0"};var x=function(t){return u.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews")).then((function(t){return t.data.results}))},g=function(t){Object(r.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={reviews:[]},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.movieId;x(e).then((function(e){return t.setState({reviews:e})}))}},{key:"render",value:function(){var t=this.state.reviews;return(null===t||void 0===t?void 0:t.length)>0?t.map((function(t){var e=t.author,a=t.content,n=t.id;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("h2",{children:["Author : ",e," "]}),Object(f.jsx)("p",{children:a})]},n)})):Object(f.jsx)("h2",{children:"We don't have any review for this movie."})}}]),a}(o.Component),w=function(t){Object(r.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(c.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={movieDitails:null,genres:"",release:""},t.getMovieDitail=function(){var e=t.props.match.params.movieId;v(e).then((function(e){return t.setState({movieDitails:Object(n.a)({},e)})})).catch((function(t){return console.log("err:",t)}))},t.goBackBtnClick=function(){t.props.history.push({pathname:"".concat(t.props.location.from)||"/",state:"".concat(t.props.location.state)})},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){!this.state.movieditail&&this.getMovieDitail()}},{key:"componentDidUpdate",value:function(t,e){var a=this;if(e.movieDitails!==this.state.movieDitails){this.setState({genres:a.state.movieDitails.genres.map((function(t){return t.name})).join(" "),release:a.state.movieDitails.release_date.split("-")[0],cast:this.state.movieDitails.cast})}}},{key:"render",value:function(){var t=this.state,e=t.movieDitails,a=t.genres,n=t.release,c=this.props.match.params.movieId;return e?Object(f.jsxs)("div",{className:"Movie-Ditails-Wrapper",children:[Object(f.jsx)(d.a,{onClick:this.goBackBtnClick,title:"Go back",className:"Navigation-button"}),Object(f.jsxs)("div",{className:"Movie-ditails",children:[Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path),alt:"",className:"Movie-ditails-img"}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("h1",{children:[e.title?"".concat(e.title):"".concat(e.name)," ",n]}),Object(f.jsx)("p",{children:"User Score: ".concat(10*e.vote_average,"%")}),Object(f.jsx)("h2",{children:"Genres"}),Object(f.jsx)("p",{children:"".concat(a)}),Object(f.jsx)("h2",{children:"Overview"}),Object(f.jsx)("p",{children:"".concat(e.overview)})]})]}),Object(f.jsxs)("div",{className:"Aditional-information-wrapper",children:[Object(f.jsx)("h2",{children:"Aditional information"}),Object(f.jsx)("p",{children:Object(f.jsx)(h.b,{to:{pathname:"".concat(this.props.match.url,"/cast"),state:"".concat(this.props.location.state),from:"".concat(this.props.location.from)},children:"Cast"})}),Object(f.jsx)("p",{children:Object(f.jsx)(h.b,{to:{pathname:"".concat(this.props.match.url,"/reviews"),state:"".concat(this.props.location.state),from:"".concat(this.props.location.from)},children:"Reviews"})})]}),Object(f.jsx)(l.a,{path:"".concat(this.props.match.url,"/cast"),render:function(t){return Object(f.jsx)(O,{movieId:c})}}),Object(f.jsx)(l.a,{path:"".concat(this.props.match.url,"/reviews"),render:function(t){return Object(f.jsx)(g,{movieId:c})}})]}):Object(f.jsx)(j.default,{})}}]),a}(o.Component);e.default=w}}]);
//# sourceMappingURL=movie-ditails.d94971aa.chunk.js.map